<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .Title }} - AstroPaper</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <nav>
                <a href="/" class="logo">AstroPaper</a>
                <ul class="nav-links">
                    <li><a href="/"><span>Posts</span></a></li>
                    <li><a href="#"><span>Tags</span></a></li>
                    <li><a href="#"><span>About</span></a></li>
                    <li>
                        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                            <span id="themeIcon">üåô</span>
                        </button>
                    </li>
                </ul>
            </nav>
        </header>

        <main>
            <article class="blog-post">
                <header class="post-header">
                    <div class="post-meta">
                        <time datetime="{{ .Date }}">{{ .Date }}</time>
                        <span>‚Ä¢</span>
                        <span>{{ .ReadTime }} min read</span>
                    </div>
                    <h1 class="post-title">{{ .Title }}</h1>
                    <div class="post-tags">
                        {{ range .Tags }}
                        <span class="tag">{{ . }}</span>
                        {{ end }}
                    </div>
                </header>

                <div class="post-content">
                    {{ .Content }}
                </div>

                <footer class="post-footer">
                    <div class="post-navigation">
                        {{ if .PrevPost }}
                        <a href="{{ .PrevPost.URL }}" class="nav-link prev-link">
                            <span class="nav-label">‚Üê Previous</span>
                            <span class="nav-title">{{ .PrevPost.Title }}</span>
                        </a>
                        {{ end }}
                        {{ if .NextPost }}
                        <a href="{{ .NextPost.URL }}" class="nav-link next-link">
                            <span class="nav-label">Next ‚Üí</span>
                            <span class="nav-title">{{ .NextPost.Title }}</span>
                        </a>
                        {{ end }}
                    </div>
                </footer>
            </article>
        </main>

        <footer>
            <p>¬© 2025 AstroPaper. Built with ‚ù§Ô∏è and HTML/CSS/JS</p>
        </footer>
    </div>

    <script>
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const html = document.documentElement;

        // Check for saved theme preference or default to light mode
        const currentTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', currentTheme);
        updateThemeIcon(currentTheme);

        themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        });

        function updateThemeIcon(theme) {
            themeIcon.textContent = theme === 'light' ? 'üåô' : '‚òÄÔ∏è';
        }
    </script>
</body>
</html>
